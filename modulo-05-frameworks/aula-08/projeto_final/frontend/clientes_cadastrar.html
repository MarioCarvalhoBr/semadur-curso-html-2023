<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Site de Cursos</title>
    <link rel="stylesheet" href="estilo.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">

          <a class="navbar-brand" href="index.html">
            <i class="bi bi-house-fill"></i>
            Site de Fictício
          </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle  active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Clientes
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="clientes_cadastrar.html">Cadastrar</a></li>
                <li><a class="dropdown-item" href="clientes_listar.html">Listar</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Produtos
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Cadastrar</a></li>
                <li><a class="dropdown-item" href="#">Listar</a></li>
              </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Cursos
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Docker</a></li>
                <li><a class="dropdown-item" href="#">Kubernetes</a></li>
                <li><a class="dropdown-item" href="#">Jenkins</a></li>
                <li><a class="dropdown-item" href="#">Git</a></li>

              </ul>
            </li>



              <li class="nav-item">
                <a class="nav-link active" href="sobre.html">Sobre</a>
              </li>
          </ul>
         
        </div>
      </div>
    </nav>

    <div class="container py-3">

                  <!--CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    rua VARCHAR(255) NOT NULL,
    numero VARCHAR(255) NOT NULL,
    bairro VARCHAR(255) NOT NULL,
    cidade VARCHAR(255) NOT NULL,
    estado VARCHAR(255) NOT NULL,
    cep VARCHAR(255) NOT NULL,
);-->
      <form class="row g-3">
        <div class="col-md-6">
          <label for="nome" class="form-label">Nome</label>
          <input type="text" class="form-control" id="nome">
        </div>
        <div class="col-md-6">
          <label for="email" class="form-label">E-mail</label>
          <input type="email" class="form-control" id="email">
        </div>
        <div class="col-md-6">
          <label for="rua" class="form-label">Rua</label>
          <input type="text" class="form-control" id="rua">
        </div>
        <div class="col-md-6">
          <label for="numero" class="form-label">Número</label>
          <input type="text" class="form-control" id="numero">
        </div>
        <div class="col-md-6">
          <label for="bairro" class="form-label">Bairro</label>
          <input type="text" class="form-control" id="bairro">
        </div>
        <div class="col-md-6">
          <label for="cidade" class="form-label">Cidade</label>
          <input type="text" class="form-control" id="cidade">
        </div>
        <div class="col-md-6">
          <label for="estado" class="form-label">Estado</label>
          <input type="text" class="form-control" id="estado">
        </div>
        <div class="col-md-6">
          <label for="cep" class="form-label">CEP</label>
          <input type="text" class="form-control" id="cep">
        </div>
        
        <div class="col-12">
          <button type="button" class="btn btn-primary" onclick="cadastrarCliente()">Cadastrar</button>
        </div>
      </form>
      
     
    
      <div class="container">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
          <p class="col-md-4 mb-0 text-body-secondary">&copy; 2023 Site de Cursos, Todos os direitos reservados</p>
      
          <a href="/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
          </a>
      
          <ul class="nav col-md-4 justify-content-end">
            <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Home</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Features</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Pricing</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">FAQs</a></li>
            <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">About</a></li>
          </ul>
        </footer>
      </div>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script>
    function cadastrarCliente(){
      alert('Cadastrando cliente...');
      // Pegar os dados do formulário e criar um objeto json cliente
      // Exemplo: { "nome": "Apagar Pedro Santos", "email": "pedro@email.com", "rua": "Rua 1", "numero": "123", "bairro": "Centro", "cidade": "São Paulo", "estado": "SP", "cep": "12345678"}
      // Enviar o objeto json cliente para o backend: http://localhost:3000/clientes via método POST
      // Se o backend retornar sucesso, limpar os campos do formulário

      // Pegar os dados do formulário
      let nome = document.getElementById('nome').value;
      let email = document.getElementById('email').value;
      let rua = document.getElementById('rua').value;
      let numero = document.getElementById('numero').value;
      let bairro = document.getElementById('bairro').value;
      let cidade = document.getElementById('cidade').value;
      let estado = document.getElementById('estado').value;
      let cep = document.getElementById('cep').value;

      // Criar um objeto json cliente
      let cliente = {
        nome: nome,
        email: email,
        rua: rua,
        numero: numero,
        bairro: bairro,
        cidade: cidade,
        estado: estado,
        cep: cep
      };

      // Enviar o objeto json cliente para o backend: http://localhost:3000/clientes via método POST
      fetch('http://localhost:3000/clientes', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(cliente)
      }).then(resposta => {
        if (resposta.status == 200) {
          // Ir para clientes_listar.html
          window.location.href = 'clientes_listar.html';
          
        }
      });
    }
  </script>
</html>